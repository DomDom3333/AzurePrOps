<Styles xmlns="https://github.com/avaloniaui" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Styles.Resources>
        <!--  Unified modern color palette  -->
        <SolidColorBrush Color="#0969DA" x:Key="PrimaryBrush" />
        <SolidColorBrush Color="#0860CA" x:Key="PrimaryHoverBrush" />
        <SolidColorBrush Color="#DDF4FF" x:Key="PrimaryLightBrush" />

        <!--  Accent color for highlights and draft badges  -->
        <SolidColorBrush Color="#8B5CF6" x:Key="AccentBrush" />

        <!--  Semantic colors  -->
        <SolidColorBrush Color="#1A7F37" x:Key="SuccessBrush" />
        <SolidColorBrush Color="#DCFFE4" x:Key="SuccessLightBrush" />
        <SolidColorBrush Color="#CF222E" x:Key="DangerBrush" />
        <SolidColorBrush Color="#FFEBE9" x:Key="DangerLightBrush" />
        <SolidColorBrush Color="#BF8700" x:Key="WarningBrush" />
        <SolidColorBrush Color="#FFF8C5" x:Key="WarningLightBrush" />
        <SolidColorBrush Color="#CF222E" x:Key="ErrorBrush" />

        <!--  Neutral grays  -->
        <SolidColorBrush Color="#656D76" x:Key="MutedBrush" />
        <SolidColorBrush Color="#D0D7DE" x:Key="BorderBrush" />
        <SolidColorBrush Color="#FFFFFF" x:Key="SurfaceBrush" />
        <SolidColorBrush Color="#F6F8FA" x:Key="BackgroundBrush" />
        <SolidColorBrush Color="#24292F" x:Key="TextPrimaryBrush" />
        <SolidColorBrush Color="#656D76" x:Key="TextSecondaryBrush" />

        <!--  Interactive states  -->
        <SolidColorBrush Color="#F3F4F6" x:Key="HoverBrush" />
        <SolidColorBrush Color="#E7F3FF" x:Key="SelectedBrush" />
        <SolidColorBrush Color="#0969DA" x:Key="FocusBrush" />
        <SolidColorBrush Color="#F8F9FA" x:Key="CardHoverBrush" />
        <SolidColorBrush Color="#F8F9FA" x:Key="CardBackgroundBrush" />

        <!--  Overlay backgrounds for modals and loading screens  -->
        <SolidColorBrush Color="#80000000" x:Key="OverlayBackgroundBrush" />
    </Styles.Resources>

    <Style Selector="Window">
        <Setter Property="Background" Value="{DynamicResource BackgroundBrush}" />
    </Style>

    <Style Selector="TextBlock">
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
    </Style>

    <!--  Modern button styles  -->
    <Style Selector="Button.PrimaryButton">
        <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="Foreground" Value="White" />
        <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="6" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="FontWeight" Value="SemiBold" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Transitions">
            <Transitions>
                <BrushTransition Duration="0:0:0.15" Property="Background" />
            </Transitions>
        </Setter>
    </Style>

    <Style Selector="Button.PrimaryButton:pointerover">
        <Setter Property="Background" Value="{DynamicResource PrimaryHoverBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource PrimaryHoverBrush}" />
    </Style>

    <Style Selector="Button.SecondaryButton">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="6" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Transitions">
            <Transitions>
                <BrushTransition Duration="0:0:0.15" Property="Background" />
            </Transitions>
        </Setter>
    </Style>

    <Style Selector="Button.SecondaryButton:pointerover">
        <Setter Property="Background" Value="{DynamicResource HoverBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
    </Style>

    <!--  Link Button Style for subtle actions  -->
    <Style Selector="Button.LinkButton">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Foreground" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Padding" Value="4,2" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Transitions">
            <Transitions>
                <BrushTransition Duration="0:0:0.15" Property="Foreground" />
            </Transitions>
        </Setter>
    </Style>

    <Style Selector="Button.LinkButton:pointerover">
        <Setter Property="Foreground" Value="{DynamicResource PrimaryHoverBrush}" />
    </Style>

    <Style Selector="Button.SuccessButton">
        <Setter Property="Background" Value="{DynamicResource SuccessBrush}" />
        <Setter Property="Foreground" Value="White" />
        <Setter Property="BorderBrush" Value="{DynamicResource SuccessBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="6" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="FontWeight" Value="SemiBold" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Transitions">
            <Transitions>
                <BrushTransition Duration="0:0:0.15" Property="Background" />
            </Transitions>
        </Setter>
    </Style>

    <Style Selector="Button.SuccessButton:pointerover">
        <Setter Property="Background" Value="#0F5F2A" />
        <Setter Property="BorderBrush" Value="#0F5F2A" />
    </Style>

    <!--  Input controls  -->
    <Style Selector="AutoCompleteBox">
        <Setter Property="CornerRadius" Value="6" />
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
        <Setter Property="Padding" Value="8,6" />
    </Style>

    <Style Selector="ComboBox">
        <Setter Property="CornerRadius" Value="6" />
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
        <Setter Property="Padding" Value="8,6" />
    </Style>

    <Style Selector="TextBox">
        <Setter Property="CornerRadius" Value="6" />
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
        <Setter Property="Padding" Value="8,6" />
    </Style>

    <Style Selector="CheckBox">
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
    </Style>

    <Style Selector="DatePicker">
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
        <Setter Property="CornerRadius" Value="6" />
    </Style>

    <Style Selector="ComboBoxItem">
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="Padding" Value="8,6" />
    </Style>

    <Style Selector="ComboBoxItem:pointerover /template/ ContentPresenter">
        <Setter Property="Background" Value="{DynamicResource HoverBrush}" />
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
    </Style>

    <Style Selector="ComboBoxItem:selected /template/ ContentPresenter">
        <Setter Property="Background" Value="{DynamicResource SelectedBrush}" />
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
    </Style>

    <!--  Modern TextBox Style  -->
    <Style Selector="TextBox.ModernTextBox">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="6" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
        <Setter Property="SelectionBrush" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="Transitions">
            <Transitions>
                <BrushTransition Duration="0:0:0.15" Property="BorderBrush" />
            </Transitions>
        </Setter>
    </Style>

    <Style Selector="TextBox.ModernTextBox:focus">
        <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
        <Setter Property="BorderThickness" Value="2" />
    </Style>

    <Style Selector="TextBox.ModernTextBox:pointerover">
        <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
    </Style>

    <!--  ListBox styles  -->
    <Style Selector="ListBox">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="8" />
        <Setter Property="Padding" Value="4" />
    </Style>

    <Style Selector="ListBoxItem">
        <Setter Property="CornerRadius" Value="6" />
        <Setter Property="Margin" Value="0,0,0,2" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
    </Style>

    <Style Selector="ListBoxItem:selected /template/ ContentPresenter">
        <Setter Property="Background" Value="{DynamicResource SelectedBrush}" />
    </Style>

    <Style Selector="ListBoxItem:pointerover /template/ ContentPresenter">
        <Setter Property="Background" Value="{DynamicResource HoverBrush}" />
    </Style>

    <!--  Card container style  -->
    <Style Selector="Border.Card">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="8" />
        <Setter Property="Padding" Value="16" />
        <Setter Property="Margin" Value="0,0,0,16" />
        <Setter Property="Transitions">
            <Transitions>
                <BrushTransition Duration="0:0:0.15" Property="Background" />
            </Transitions>
        </Setter>
    </Style>

    <Style Selector="Border.Card:pointerover">
        <Setter Property="Background" Value="{DynamicResource CardHoverBrush}" />
    </Style>

    <!--  File list item  -->
    <Style Selector="Border.file-item">
        <Setter Property="Background" Value="{DynamicResource BackgroundBrush}" />
        <Setter Property="BorderBrush" Value="Transparent" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="6" />
        <Setter Property="Padding" Value="8,6" />
        <Setter Property="Margin" Value="0,0,0,4" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Transitions">
            <Transitions>
                <BrushTransition Duration="0:0:0.15" Property="Background" />
            </Transitions>
        </Setter>
    </Style>

    <Style Selector="Border.file-item:pointerover">
        <Setter Property="Background" Value="{DynamicResource HoverBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
    </Style>

    <Style Selector="Border.file-item.selected">
        <Setter Property="Background" Value="{DynamicResource SelectedBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
    </Style>

    <!--  Expander base fixes  -->
    <Style Selector="Expander">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
        <Setter Property="BorderThickness" Value="0" />
    </Style>

    <Style Selector="Expander /template/ ToggleButton#PART_toggle">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
        <Setter Property="BorderBrush" Value="Transparent" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Padding" Value="0" />
    </Style>

    <Style Selector="Expander /template/ ToggleButton#PART_toggle:pointerover">
        <Setter Property="Background" Value="{DynamicResource HoverBrush}" />
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
    </Style>

    <Style Selector="Expander /template/ ToggleButton#PART_toggle:pressed">
        <Setter Property="Background" Value="{DynamicResource SelectedBrush}" />
    </Style>

    <Style Selector="Expander /template/ Border#PART_content">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="BorderBrush" Value="Transparent" />
        <Setter Property="BorderThickness" Value="0" />
    </Style>

    <Style Selector="Expander /template/ ToggleButton#PART_toggle ContentPresenter">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
    </Style>

    <Style Selector="Expander /template/ ToggleButton#PART_toggle PathIcon">
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
    </Style>

    <Style Selector="Expander /template/ ToggleButton#PART_toggle:pointerover PathIcon">
        <Setter Property="Foreground" Value="{DynamicResource PrimaryBrush}" />
    </Style>

    <Style Selector="Expander /template/ Grid">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
    </Style>

    <Style Selector="Expander /template/ Border">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
    </Style>

    <Style Selector="Expander Border">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
    </Style>

    <Style Selector="Expander /template/ ToggleButton#PART_toggle ContentPresenter Border">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
    </Style>

    <Style Selector="Expander /template/ ToggleButton#PART_toggle ContentPresenter StackPanel">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
    </Style>

    <Style Selector="Expander /template/ ToggleButton#PART_toggle ContentPresenter Grid">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
    </Style>

    <Style Selector="Expander /template/ Panel">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
    </Style>

    <Style Selector="Expander /template/ StackPanel">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
    </Style>

    <Style Selector="Expander /template/ DockPanel">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
    </Style>

    <!--  FileDiffExpander: card-row style used in the diff viewer  -->
    <Style Selector="Expander.FileDiffExpander">
        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="Template">
            <ControlTemplate>
                <Border
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}">
                    <DockPanel>
                        <ToggleButton
                            Name="PART_toggle"
                            DockPanel.Dock="Top"
                            IsChecked="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Stretch"
                            Background="Transparent"
                            BorderBrush="Transparent"
                            BorderThickness="0"
                            Padding="0"
                            Cursor="Hand">
                            <ContentPresenter
                                Content="{TemplateBinding Header}"
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch" />
                        </ToggleButton>
                        <ContentPresenter
                            Name="PART_content"
                            DockPanel.Dock="Bottom"
                            Content="{TemplateBinding Content}"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                            IsVisible="{TemplateBinding IsExpanded}" />
                    </DockPanel>
                </Border>
            </ControlTemplate>
        </Setter>
    </Style>

    <!--  FileDiffExpander header hover effect  -->
    <Style Selector="Expander.FileDiffExpander /template/ ToggleButton#PART_toggle">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Transitions">
            <Transitions>
                <BrushTransition Duration="0:0:0.15" Property="Background" />
            </Transitions>
        </Setter>
    </Style>

    <Style Selector="Expander.FileDiffExpander /template/ ToggleButton#PART_toggle:pointerover">
        <Setter Property="Background" Value="{DynamicResource HoverBrush}" />
    </Style>

    <!--  Override the broad selectors so header content is transparent (hover bleeds through)  -->
    <Style Selector="Expander.FileDiffExpander /template/ ToggleButton#PART_toggle ContentPresenter">
        <Setter Property="Background" Value="Transparent" />
    </Style>

    <Style Selector="Expander.FileDiffExpander /template/ ToggleButton#PART_toggle ContentPresenter Grid">
        <Setter Property="Background" Value="Transparent" />
    </Style>

    <!--  Chevron indicator: rotates 90Â° when the expander is open  -->
    <Style Selector="Expander.FileDiffExpander TextBlock.ExpandChevron">
        <Setter Property="RenderTransformOrigin" Value="50%,50%" />
    </Style>

    <Style Selector="Expander.FileDiffExpander:expanded TextBlock.ExpandChevron">
        <Setter Property="RenderTransform">
            <Setter.Value>
                <RotateTransform Angle="90" />
            </Setter.Value>
        </Setter>
    </Style>
</Styles>
